{{ 'faq.css' | asset_url | stylesheet_tag }}

{% stylesheet %}
{% endstylesheet %}


<div class="z_faq">
  <div class="page-width">
 <div class="z_faq_inner" style="background-color: {{section.settings.bg_clr}};">
   <div class="z_faq_heading">
      <div class="z_faq_heading_inner">
     <h2 class="z_heading">{{ section.settings.z_heading }}</h2>
     {% if section.settings.sub_heading != blank %}
        <p class="sub_heading"> {{ section.settings.sub_heading  }} </p>
      {% endif %}
      {% if section.settings.button_text != blank %}
        <a href="{{ section.settings.url}}" class="button" >
          {{section.settings.button_text}}
        </a>
        {% endif %}
      </div>
   </div>
   <div class="z_faq_section">
     <div class="z_faq_section_inner">
       {% for block in section.blocks %}
         {% if block.type == "z_faq" %}
          <div class="faq_items">
     <div class="z_faq_begin">
       <div class="z_faq_ques">
          <h2>{{ block.settings.z_question  }}</h2>
         <div class="z_faq_ques_acordian">
           <div class="z_minus_accordian"></div>
           <div class="z_plus_accordian"></div>
         </div>
       </div>
       
     </div>
       
       {% if block.settings.z_answer != empty %}
       <div class="z_faq_begin_ans">
       <div class="z_faq_ans">
          {{ block.settings.z_answer  }}
        
       </div>
     </div>
     </div>
         {% endif %}
       {% endif %}
       {% endfor %}
     </div>
   </div>
 </div>
  </div>
</div>


<script>
  document.querySelectorAll('.z_faq_ques').forEach(function (faqItem) {
  faqItem.addEventListener('click', function () {
    const isActive = faqItem.classList.contains('active');
    const answer = faqItem.closest('.z_faq_begin').nextElementSibling;

    if (isActive) {
      faqItem.classList.remove('active');
      answer.style.display = 'none';

      faqItem.querySelector('.z_faq_ques_acordian .z_minus_accordian')?.classList.remove('z_faq_ques_acordian-before');
      faqItem.querySelector('.z_faq_ques_acordian .z_plus_accordian')?.classList.remove('z_faq_ques_acordian-after');
    } else {
      faqItem.classList.add('active');
      answer.style.display = 'block';

      faqItem.querySelector('.z_faq_ques_acordian .z_minus_accordian')?.classList.add('z_faq_ques_acordian-before');
      faqItem.querySelector('.z_faq_ques_acordian .z_plus_accordian')?.classList.add('z_faq_ques_acordian-after');
    }
  });
});

</script>
{% javascript %}
{% endjavascript %}

{% schema %}
  {
    "name": "FAQ",
    "settings": [
    {
      "type": "color",
      "id": "bg_clr",
      "label": "Background color",
      "default": "#efeae2"
    },
      {
            "type" : "color",
            "label" : "Select Heading Color" ,
            "id" : "z_heading_color"
          },
      {
            "type" : "text",
            "label" : "Enter Heading Text",
            "id" : "z_heading"
          } ,
          {
              "type": "textarea",
              "id": "sub_heading",
              "label": "Sub heading"
          },
          {
            "type": "text",
            "id": "button_text",
            "label": "Button text"
          },
          {

          "type": "url",
          "id": "url",
          "label": "Url"
          },
      {
            "type" : "color",
            "label" : "Select Answer Backgroundcolor" ,
            "id" : "z_answer_bgcolor"
          }
      ,
      {
            "type" : "color",
            "label" : "Select Question color" ,
            "id" : "z_question_color"
          }
    ],
    "blocks" : [
      {
        "type" : "z_faq",
        "name" : "Faq",
        "settings": [{
          "type" : "text",
          "label" : "Question",
          "id" : "z_question"
        } ,
          {
            "type" : "richtext",
            "label" : "Answer" ,
            "id" : "z_answer"
            
          }
        ]
      }
    ],
    "presets" : [
      {
        "name" : "FAQ" ,
        "category" : "select"
      }
    ]
  }
{% endschema %}  